<div class="indicator-name"><h3 style="color: #355E7F; margin-bottom: 1.5rem">{{dataElementInfo.data.metadata.name}}</h3></div>
<div class="introduction"><h3 style="color: #464646;">Introduction</h3></div>
<div class="description">
  <p>{{dataElementInfo.data.metadata.name}}
    <span *ngIf="dataElementInfo.data.metadata.description">can be described as {{dataElementInfo.data.metadata.description}}</span>
  </p>
  <p>
    It’s labelled in short as {{dataElementInfo.data.metadata.shortName}} and has a code of {{dataElementInfo.data.metadata.code}}.
    <span *ngIf="dataElementInfo.data.metadata.formName">In data entry form, it’s named “{{dataElementInfo.data.metadata.formName}}” </span>   
  </p>
  <p style="color: #464646; font-size: 0.7em; margin-top: -15px;"><i>Identifed by: <a target="_blank" href="../../../api/identifiableObjects/{{dataElementInfo.data.metadata.id}}.json">{{dataElementInfo.data.metadata.id}} </a></i></p> 
</div>
<div>
  <h4 style="color: #464646;">Data sources (Datasets/Programs)</h4>
  <p>Data element is captured from 
    <span *ngIf="dataElementInfo.data.metadata.domainType== 'AGGREGATE'">Routine data source</span>
    <span *ngIf="!dataElementInfo.data.metadata.domainType== 'AGGREGATE'">Event based data source</span>
     with following sources
     <ul *ngIf="dataElementInfo.data.metadata.domainType== 'AGGREGATE'">
       <li *ngFor="let dataSetElement of dataElementInfo.data.metadata.dataSetElements">
          <span style="cursor: pointer;color: #325E80;text-decoration: underline;" (click)="setActiveItem(dataSetElement.dataSet.id)">
            {{dataSetElement.dataSet.name}}
          </span>
          submitting
          <strong>{{dataSetElement.dataSet.periodType}}</strong> after every 
          <strong>{{dataSetElement.dataSet.expiryDays}}</strong> days for timely submission
       </li>
     </ul>
    Other Details
    <div>
      <div>
        <div style="width: 100%; overflow: auto;">
          <table class="table table-bordered">
            <thead>
              <tr style="background-color: #f5f5f5; color: #555;">
                <th style="padding: 0.45em;"></th>
                <th style="padding: 0.45em;">Color</th>
                <th style="padding: 0.45em;">Icon</th>
                <th style="padding: 0.45em;">Option Set</th>
                <th style="padding: 0.45em;">Optionset for Comments</th>
                <th style="padding: 0.45em;">Legends</th>
                <th style="padding: 0.45em;">Aggregation Levels</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td  style="background-color: #f5f5f5; color: #555;">Details</td>
                <td style="padding: 0.45em;"></td>
                <td style="padding: 0.45em;"></td> 
                <td style="padding: 0.45em;">{{dataElementInfo.data.metadata.optionSetValue}}</td>
                <td style="padding: 0.45em;"></td>
                <td style="padding: 0.45em;">
                  <span *ngIf="dataElementInfo.data.legendSetsInformation && dataElementInfo.data.legendSetsInformation.length > 0">
                    <div *ngFor="let legendSetInformation of dataElementInfo.data.legendSetsInformation">
                      <div *ngFor="let legendSet of legendSetInformation.legendSets">
                        {{legendSet.name}}
                        <table class="table table-bordered">
                            <thead>
                              <tr style="background-color: #f5f5f5; color: #555;">
                                <th style="padding: 0.45em;">Class</th>
                                <th style="padding: 0.45em;">Lower</th>
                                <th style="padding: 0.45em;">Upper</th>
                                <th style="padding: 0.45em;">Color</th>
                              </tr>
                            </thead>
                            <tbody class="legends-list">
                              <tr *ngFor="let legend of sortLegends(legendSet.legends)">
                                <td style="padding: 0.45em;"> {{legend.name}}  </td>
                                <td style="padding: 0.45em;">  {{legend.startValue}} </td> 
                                <td style="padding: 0.45em;"> {{legend.endValue}} </td>
                                <td style="padding: 0.45em;" [ngStyle]="{'background-color': legend.color}"><span>{{legend.color}}</span></td>
                              </tr>
                            </tbody>
                          </table>
                      </div>
                    </div>
                  </span>
                </td>
                <td style="padding: 0.45em;">
                  <ul *ngIf="dataElementInfo.data.metadata.aggregationLevels">
                    <li *ngFor="let aggregationLevel of dataElementInfo.data.metadata.aggregationLevels">
                      {{aggregationLevel}}
                    </li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
</div>
<div>
  <h4 style="color: #464646;">Data element Facts</h4>
  <ul>
    <li>Accepts only <strong>{{dataElementInfo.data.metadata.valueType}}</strong> to enforce validation</li>
    <!-- <li>Has {{validationRulesMatchCount}} related validation rules</li> -->
    <!-- <li>Part of numerators of {{indicatorNumeratorExpressionMatchCount}} indicators</li>
    <li>Part of denominators of {{indicatorDenominatorExpressionMatchCount}} indicators</li> -->
    <li *ngIf="dataElementInfo.data && dataElementInfo.data.dataElementGroups">
        <p>It belongs to the following data element groups :-</p>
        <div>
          <table class="table table-bordered">
            <thead>
              <tr style="background-color: #f5f5f5; color: #555;">
                <th style="padding: 0.45em;">Data element group</th>
                <th style="padding: 0.45em;">Data elements</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let dataElementGroup of dataElementInfo.data.dataElementGroups">
                <td style="padding: 0.45em;">
                    <span style="cursor: pointer;color: #325E80;text-decoration: underline;" (click)="setActiveItem(dataElementGroup.id)">
                      {{dataElementGroup.name}}
                    </span>
                </td>
                <td style="padding: 0.45em;">{{dataElementGroup.dataElements.length}}</td>
              </tr>
            </tbody>
          </table>
        </div>
    </li>
  </ul>
</div>
<div>
  <h4 style="color: #464646;">Analytics Details</h4>
  <ul>
    <li>It's aggregated by <strong>{{dataElementInfo.data.metadata.aggregationType}}</strong> through period and hierarchy</li>
    <li>Captured through <strong>{{dataElementInfo.data.metadata.domainType}}</strong> data sources</li>
    <li>
      <span *ngIf="dataElementInfo.data.metadata.zeroIsSignificant">Stores zero data value</span>
      <span *ngIf="!dataElementInfo.data.metadata.zeroIsSignificant">Does not store zero data value</span>
    </li>
    <li *ngIf="dataElementInfo.data.metadata.categoryCombo">It uses category combination <strong>{{dataElementInfo.data.metadata.categoryCombo.name}}</strong> with cross-tabulation between {{dataElementInfo.data.metadata.categoryCombo.categories.length}} categories with the following details
        <ul>
          <li *ngFor="let category of dataElementInfo.data.metadata.categoryCombo.categories">
            Category <strong>{{category.name}}</strong> which has <strong>{{category.categoryOptions.length}}</strong> options
          </li>
        </ul>
    </li>
  </ul>
</div>
<div>
  <h4 style="color: #464646;">Accessibility & Sharing settings</h4>
  <p>This data element was first created on 
    <strong>{{dataElementInfo.data.metadata.created  | date}}</strong> 
    by <strong>{{dataElementInfo.data.metadata.user.name}}</strong>
    and last updated on <strong>{{dataElementInfo.data.metadata.lastUpdated | date}}</strong>
    by <strong>{{dataElementInfo.data.metadata.lastUpdatedBy.name}}</strong>.
  </p>
  
  <p style="float: right;">Dictionary generated on <strong>{{getTodayDate() | date}}</strong></p>
    <!-- Data element will be visible for users with the following access: -->
    
</div>
