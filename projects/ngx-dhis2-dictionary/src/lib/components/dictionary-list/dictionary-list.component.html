<div class="dictionary-list-container">
  <div class="dictionary-header">
    <button 
    *ngIf="isFullScreen"
    class="indicator-btn"
    (click)="setActiveItem(-1, $event)"
    [ngClass]="activeItem === -1 ? 'active-item': ''"
    >All</button>
    <ng-template ngFor let-dictionaryItem [ngForOf]="dictionaryList$ | async" let-i="index" [ngForTrackBy]="trackByFn">
        <button
        *ngIf="dictionaryItem.name"
        class="dictionary-title indicator-btn"
        (click)="setActiveItem(i, $event)"
        [ngClass]="activeItem === i ? 'active-item': ''"
       >
      <span>{{ dictionaryItem.name }}</span>
      <span (click)="remove(dictionaryItem)" title="remove" style="margin-left: 10px; padding: 2px; border-radius: 4px; background-color: #FFF; color: #222;">x</span>
      <div *ngIf="!dictionaryItem.name">
          <app-dictionary-progress></app-dictionary-progress>
      </div>
      </button>
    </ng-template>
  </div>
  <div *ngIf="isFullScreen && activeItem === -1">
    <app-indicators-list 
    [indicators]="indicators" 
    [completedPercent]="completedPercent"
    [totalAvailableIndicators]="totalAvailableIndicators"
    (selectedMetadataIdentifier)="selectedMetadataIdentifier($event)"></app-indicators-list>
  </div>
  <div
    class="dictionary-item-container"
    *ngFor="let dictionaryItem of dictionaryList$ | async; let i = index"
  >
    <div
      class="dictionary-body"
      *ngIf="activeItem === i"
    >
      <div class="dictionary-description" [innerHtml]="getSafeHtml(dictionaryItem.description)"></div>
      <div *ngIf="dictionaryItem.progress.loading">
        <app-dictionary-progress></app-dictionary-progress>
      </div>
    </div>
  </div>
</div>
